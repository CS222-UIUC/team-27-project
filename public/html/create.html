<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <title>创建拼图界面</title>
  <style>
    /* 全局基础样式 */
    body {
      margin: 0;
      padding: 0;
      font-family: sans-serif;
      background-color: #fff;
      color: #000;
      height: 100vh;
      display: flex;
      flex-direction: column;
      transition: background-color 0.3s, color 0.3s;
    }
    /* 两个按钮的公共样式 */
    .top-button {
      position: absolute;
      top: 20px;
      width: 64px;
      height: 64px;
      cursor: pointer;
      border: none;
      outline: none;
      background-color: transparent;
    }
    /* 左上角按钮 */
    .home-button {
      left: 20px;
    }
    /* 右上角按钮 */
    .theme-toggle {
      right: 20px;
    }
    /* 聊天内容区域（如果需要复用） */
    .chat-container {
      flex: 1;
      overflow-y: auto;
      padding: 20px;
      background-color: #f9f9f9;
      margin-top: 100px;
      display: flex;
      flex-direction: column;
    }
    /* 深色模式下 */
    body.dark-mode {
      background-color: #000;
      color: #fff;
    }
  </style>
</head>
<body>
  <!-- 页面结构由 create.js 动态生成 -->
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      // ---------------------------
      // 创建顶部两个按钮：home 与主题切换
      // ---------------------------
      const homeIcon = document.createElement("img");
      homeIcon.className = "top-button home-button";
      homeIcon.id = "homeIcon";
      homeIcon.src = "../icon/home.png";
      homeIcon.alt = "主页";
      document.body.appendChild(homeIcon);
    
      const themeToggle = document.createElement("img");
      themeToggle.className = "top-button theme-toggle";
      themeToggle.id = "themeToggle";
      themeToggle.src = "../icon/moon.png"; // 初始为月亮图标
      themeToggle.alt = "切换主题";
      document.body.appendChild(themeToggle);
    
      homeIcon.addEventListener("click", () => {
        window.location.href = "../index.html"; // 根据实际路径调整
      });
    
      let isDarkMode = false;
      themeToggle.addEventListener("click", () => {
        document.body.classList.toggle("dark-mode");
        isDarkMode = !isDarkMode;
        if (isDarkMode) {
          themeToggle.style.filter = "invert(1)";
          homeIcon.style.filter = "invert(1)";
        } else {
          themeToggle.style.filter = "none";
          homeIcon.style.filter = "none";
        }
        updateStylesForMode();
      });
    
      // ---------------------------
      // 创建中间的方框（类似表格的样式）
      // ---------------------------
      const puzzleBox = document.createElement("div");
      puzzleBox.id = "puzzleBox";
      // 调整方框尺寸
      puzzleBox.style.width = "600px";        // 增大宽度
      puzzleBox.style.margin = "50px auto";     // 居中
      puzzleBox.style.padding = "20px";
      puzzleBox.style.border = "1px solid #ccc";
      puzzleBox.style.boxShadow = "0 2px 8px rgba(0, 0, 0, 0.1)";
      puzzleBox.style.display = "flex";
      puzzleBox.style.flexDirection = "column";
      puzzleBox.style.alignItems = "center";
    
      // 添加标题
      const header = document.createElement("h2");
      header.textContent = "Create Your Own Puzzle";
      header.style.textAlign = "center";
      header.style.width = "100%";
      puzzleBox.appendChild(header);
    
      // ---------------------------
      // 添加 “The puzzle” 输入区域
      // ---------------------------
      const puzzleLabel = document.createElement("label");
      puzzleLabel.textContent = "The puzzle:";
      puzzleLabel.style.width = "100%";
      puzzleLabel.style.margin = "10px 0 5px 0";
      puzzleLabel.style.fontWeight = "bold";
      puzzleBox.appendChild(puzzleLabel);
    
      const puzzleInput = document.createElement("textarea");
      puzzleInput.id = "puzzleInput";
      puzzleInput.style.width = "100%";
      puzzleInput.style.height = "100px";
      puzzleInput.style.padding = "10px";
      puzzleInput.placeholder = "Please type in the puzzle";
      puzzleInput.style.boxSizing = "border-box";
      puzzleBox.appendChild(puzzleInput);
    
      // ---------------------------
      // 添加 “The whole Story” 输入区域
      // ---------------------------
      const storyLabel = document.createElement("label");
      storyLabel.textContent = "The whole Story:";
      storyLabel.style.width = "100%";
      storyLabel.style.margin = "10px 0 5px 0";
      storyLabel.style.fontWeight = "bold";
      puzzleBox.appendChild(storyLabel);
    
      const storyInput = document.createElement("textarea");
      storyInput.id = "storyInput";
      storyInput.style.width = "100%";
      storyInput.style.height = "150px";
      storyInput.style.padding = "10px";
      storyInput.placeholder = "Please type in the whole story behind your puzzle";
      storyInput.style.boxSizing = "border-box";
      puzzleBox.appendChild(storyInput);
    
      // ---------------------------
      // 创建 Submit 按钮，放在方框底部
      // ---------------------------
      const submitButton = document.createElement("button");
      submitButton.id = "submitButton";
      submitButton.textContent = "Submit";
      submitButton.style.padding = "10px 20px";
      submitButton.style.fontSize = "16px";
      submitButton.style.cursor = "pointer";
      submitButton.style.marginTop = "20px";
      puzzleBox.appendChild(submitButton);
    
      document.body.appendChild(puzzleBox);
    
      submitButton.addEventListener("click", () => {
        // 你可以通过 puzzleInput.value 和 storyInput.value 获取输入内容
        alert("Puzzle submitted!\nThe puzzle: " + puzzleInput.value + "\nThe whole Story: " + storyInput.value);
      });
    
      // ---------------------------
      // 根据主题更新页面样式
      // ---------------------------
      function updateStylesForMode() {
        if (document.body.classList.contains("dark-mode")) {
          document.body.style.backgroundColor = "#121212";
          puzzleBox.style.backgroundColor = "#222";
          puzzleBox.style.color = "#fff";
          contentArea.style.backgroundColor = "#333";
          contentArea.style.borderColor = "#555";
          submitButton.style.backgroundColor = "#444";
          submitButton.style.color = "#fff";
        } else {
          document.body.style.backgroundColor = "#fff";
          puzzleBox.style.backgroundColor = "#f9f9f9";
          puzzleBox.style.color = "#000";
          contentArea.style.backgroundColor = "#fff";
          contentArea.style.borderColor = "#ccc";
          submitButton.style.backgroundColor = "#f0f0f0";
          submitButton.style.color = "#000";
        }
      }
    
      updateStylesForMode();
    });
  </script>
</body>
</html>

